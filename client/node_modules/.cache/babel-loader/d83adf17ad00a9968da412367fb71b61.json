{"ast":null,"code":"var db = require('../models');\n\nmodule.exports = {\n  findAll: function findAll(req, res) {\n    db.Book.find({}).sort({\n      date: -1\n    }).then(function (dbBooks) {\n      return res.json(dbBooks);\n    }).catch(function (err) {\n      return res.status(422).json(err);\n    });\n  },\n  create: function create(req, res) {\n    db.Book.create(req.body).then(function (dbBook) {\n      return res.json(dbBook);\n    }).catch(function (err) {\n      return res.status(422).json(err);\n    });\n  },\n  delete: function _delete(req, res) {\n    db.Book.findByIdAndDelete(req.params.id).then(function (dbBook) {\n      return res.json(dbBook);\n    }).catch(function (err) {\n      return res.status(422).json(err);\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"script"}